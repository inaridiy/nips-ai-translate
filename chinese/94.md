---
original: 7347b3279453c86c1653a49e45dfedeb2140e151010c711a666607fec92542ad
---

NIP-94
======

文件元数据
----------

`草案` `可选`

本NIP的目的是允许对共享文件进行组织和分类。这样，中继器可以以任何感兴趣的方式进行过滤和组织。因此，可以创建多种类型的文件共享客户端。处理 `kind:1` 笔记的"社交"客户端或处理 `kind:30023` 文章的长文本客户端不需要实现NIP-94支持。

## 事件格式

本NIP指定使用 `1063` 事件类型，在 `content` 中包含文件内容的描述，以及下面描述的标签列表：

* `url` 下载文件的URL
* `m` 表示文件数据类型的字符串。必须使用[MIME类型](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types)格式，且应为小写。
* `x` 包含文件的SHA-256十六进制编码字符串。
* `ox` 包含原始文件（上传服务器进行任何转换之前）的SHA-256十六进制编码字符串
* `size` （可选）文件大小（字节）
* `dim` （可选）文件尺寸（像素），格式为 `<宽度>x<高度>`
* `magnet` （可选）磁力链接URI
* `i` （可选）种子信息哈希
* `blurhash`（可选）客户端加载文件时显示的[blurhash](https://github.com/woltapp/blurhash)
* `thumb` （可选）具有相同宽高比的缩略图URL
* `image` （可选）具有相同尺寸的预览图URL
* `summary` （可选）文本摘要
* `alt` （可选）无障碍描述
* `fallback` （可选）当 `url` 失败时的零个或多个备用文件源

```json
{
  "kind": 1063,
  "tags": [
    ["url",<文件URI字符串>],
    ["m", <MIME类型>],
    ["x",<SHA-256哈希>],
    ["ox",<SHA-256哈希>],
    ["size", <文件大小（字节）>],
    ["dim", <文件尺寸（像素）>],
    ["magnet",<磁力链接URI> ],
    ["i",<种子信息哈希>],
    ["blurhash", <值>],
    ["thumb", <缩略图URI字符串>],
    ["image", <预览图URI字符串>],
    ["summary", <摘要>],
    ["alt", <描述>]
  ],
  "content": "<说明>",
  ...
}
```

## 建议用例

* 用于索引共享文件的中继器。例如，推广种子。
* 类似Pinterest的客户端，人们可以分享他们的作品集并激发他人灵感。
* 分发配置和软件更新的简单方法。