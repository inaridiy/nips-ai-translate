---
original: 952a3cb2e900a933825014bc866b6037822b2f9cbcd947248a7d99ece9494ca7
---

NIP-58
======

徽章
------

`草案` `可选`

三种特殊事件用于定义、授予和在用户个人资料中显示徽章：

1. "徽章定义"事件被定义为一个参数化的可替换事件，类型为 `30009`，具有一个 `d` 标签，其值唯一标识该徽章（例如 `bravery`），由徽章发行者发布。徽章定义可以更新。

2. "徽章授予"事件是一个类型为 `8` 的事件，具有一个单独的 `a` 标签引用"徽章定义"事件，以及一个或多个 `p` 标签，每个标签对应徽章发行者希望授予的公钥。已授予的徽章是不可变的且不可转让的。

3. "个人资料徽章"事件被定义为一个参数化的可替换事件，类型为 `30008`，具有一个值为 `profile_badges` 的 `d` 标签。个人资料徽章包含一个有序列表，列表中是 `a` 和 `e` 标签对，分别引用每个要显示的徽章的"徽章定义"和"徽章授予"。

### 徽章定义事件

必须包含以下标签：

- `d` 标签，其值为徽章的唯一名称。

可以包含以下标签：

- `name` 标签，其值为徽章的简短名称。
- `image` 标签，其值为代表徽章的高分辨率图像的 URL。第二个值可选，指定图像的尺寸，格式为 `宽度`x`高度`（以像素为单位）。推荐的徽章尺寸为 1024x1024 像素。
- `description` 标签，其值可以包含图像的文字描述、徽章的含义或发放原因。
- 一个或多个 `thumb` 标签，第一个值是指向 `image` 标签中引用的图像的缩略图版本的 URL。第二个值可选，指定缩略图的尺寸，格式为 `宽度`x`高度`（以像素为单位）。

### 徽章授予事件

必须包含以下标签：

- 一个 `a` 标签，引用类型为 `30009` 的徽章定义事件。
- 一个或多个 `p` 标签，引用每个被授予的公钥。

### 个人资料徽章事件

一个公钥可以被授予的徽章数量是无限的。个人资料徽章事件允许个人用户接受或拒绝被授予的徽章，以及选择徽章在其个人资料中的显示顺序。

必须包含以下标签：

- 一个 `d` 标签，其唯一标识符为 `profile_badges`

可以包含以下标签：

- 零个或多个有序的连续 `a` 和 `e` 标签对，分别引用类型为 `30009` 的徽章定义和类型为 `8` 的徽章授予。客户端应忽略没有对应 `e` 标签的 `a` 标签，反之亦然。`e` 标签引用的徽章授予应包含相同的 `a` 标签。

### 动机

用户可能会被授予徽章（但不限于）以表示认可、感谢、参与或对某个目标、任务或事业的赞赏。

用户可以选择用徽章装饰他们的个人资料，以展示名声、声誉、认可、支持等，这些徽章来自他们认为值得信赖的徽章发行者。

### 建议

客户端可以将徽章发行者（公钥）列入白名单，以确保它们为用户保持有价值/特殊的因素。

推荐的徽章图像宽高比为 1:1，高分辨率尺寸为 1024x1024 像素。

推荐的徽章缩略图尺寸为：512x512（xl）、256x256（l）、64x64（m）、32x32（s）和 16x16（xs）。

客户端可以选择渲染比用户在个人资料徽章事件中指定的更少的徽章，或者用适合客户端主题的图像和缩略图替换徽章图像和缩略图。

客户端应尝试根据用户选择的徽章数量和可用空间渲染最合适的徽章缩略图。客户端应尝试在用户操作（点击、轻触、悬停）时渲染高分辨率版本。

### 徽章定义事件示例

```json
{
  "pubkey": "alice",
  "kind": 30009,
  "tags": [
    ["d", "bravery"],
    ["name", "Medal of Bravery"],
    ["description", "Awarded to users demonstrating bravery"],
    ["image", "https://nostr.academy/awards/bravery.png", "1024x1024"],
    ["thumb", "https://nostr.academy/awards/bravery_256x256.png", "256x256"]
  ],
  ...
}
```

### 徽章授予事件示例

```json
{
  "id": "<badge award event id>",
  "kind": 8,
  "pubkey": "alice",
  "tags": [
    ["a", "30009:alice:bravery"],
    ["p", "bob", "wss://relay"],
    ["p", "charlie", "wss://relay"]
  ],
  ...
}
```

### 个人资料徽章事件示例

勇敢的鲍勃阁下：
```json
{
  "kind": 30008,
  "pubkey": "bob",
  "tags": [
    ["d", "profile_badges"],
    ["a", "30009:alice:bravery"],
    ["e", "<bravery badge award event id>", "wss://nostr.academy"],
    ["a", "30009:alice:honor"],
    ["e", "<honor badge award event id>", "wss://nostr.academy"]
  ],
  ...
}
```