---
original: b31c4c373653b3bd13e7d99c116b3d9514edb5be1c8c073247cb0482c5950fa1
---

NIP-09
======

事件删除
--------

`草案` `可选`

定义了一种特殊的 kind 为 `5` 的事件，意为"删除"，它包含一个或多个 `e` 或 `a` 标签的列表，每个标签引用作者请求删除的事件。删除请求应该（SHOULD）包含一个 `k` 标签，用于标识被删除事件的 kind。

事件的 `content` 字段可以（MAY）包含一个文本注释，描述删除的原因。

例如：

```
{
  "kind": 5,
  "pubkey": <32字节十六进制编码的事件创建者公钥>,
  "tags": [
    ["e", "dcd59..464a2"],
    ["e", "968c5..ad7a4"],
    ["a", "<kind>:<pubkey>:<d-identifier>"],
    ["k", "1"],
    ["k", "30023"]
  ],
  "content": "这些帖子是意外发布的",
  ...其他字段
}
```

中继应该（SHOULD）删除或停止发布任何具有与删除请求相同 `pubkey` 的被引用事件。客户端应该（SHOULD）隐藏或以其他方式指示被引用事件的删除状态。

中继应该（SHOULD）无限期地继续发布/共享删除事件，因为客户端可能已经有了打算删除的事件。此外，客户端应该（SHOULD）将删除事件广播到没有该事件的其他中继。

当使用 `a` 标签时，中继应该（SHOULD）删除可替换事件的所有版本，直到删除事件的 `created_at` 时间戳。

## 客户端使用

客户端可以（MAY）选择完全隐藏任何被有效删除事件引用的事件。这包括文本注释、直接消息或其他尚未定义的事件类型。或者，它们可以（MAY）显示事件，同时附带一个图标或其他指示，表明作者已"放弃"该事件。`content` 字段也可以（MAY）用于替换被删除事件的原始内容，但用户界面应清楚地指出这是删除原因，而不是原始内容。

在隐藏或删除任何事件之前，客户端必须（MUST）验证删除请求的 `e` 标签中引用的每个事件 `pubkey` 与删除请求的 `pubkey` 相同。中继通常无法执行此验证，不应被视为权威。

客户端可以以任何方式显示删除事件本身，例如，完全不显示，或者以醒目的通知显示。

## 中继使用

中继可以（MAY）验证删除事件只引用与删除事件本身具有相同 `pubkey` 的事件，但这不是必需的，因为中继可能不了解所有被引用的事件。

## 删除一个删除事件

对删除事件发布删除事件没有效果。客户端和中继没有义务支持"取消删除"功能。