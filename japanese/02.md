---
original: 9ee998d97b987ed8bdf21986261f896730c208c9b2b5153e30033f106ac82ae1
---

NIP-02
======

フォローリスト
--------------

`final` `optional`

種類 `3` の特別なイベントは、「フォローリスト」を意味し、フォロー/既知のプロフィールごとに `p` タグのリストを持つと定義されています。

各タグエントリには、プロフィールのキー、そのキーからのイベントを見つけることができるリレーURL（必要ない場合は空の文字列に設定可能）、そのプロフィールのローカル名（または「ペットネーム」）（これも空の文字列に設定可能、または省略可能）が含まれるべきです。つまり、`["p", <32バイトの16進数キー>, <メインリレーURL>, <ペットネーム>]` となります。

`.content` は使用されません。

例：

```json
{
  "kind": 3,
  "tags": [
    ["p", "91cf9..4e5ca", "wss://alicerelay.com/", "alice"],
    ["p", "14aeb..8dad4", "wss://bobrelay.com/nostr", "bob"],
    ["p", "612ae..e610f", "ws://carolrelay.com/ws", "carol"]
  ],
  "content": "",
  ...その他のフィールド
}
```

公開される新しいフォローリストは過去のものを上書きするため、すべてのエントリを含める必要があります。リレーとクライアントは、新しいフォローリストを受信したら、過去のフォローリストを削除すべきです（SHOULD）。

既存のリストに新しいフォローを追加する場合、クライアントはそれらをリストの末尾に追加すべきです（SHOULD）。これにより、時系列順に保存されます。

## 用途

### フォローリストのバックアップ

リレーが十分な期間イベントを保存すると信じる場合、このkind-3イベントを使用してフォローリストをバックアップし、別のデバイスで復元できます。

### プロフィールの発見とコンテキストの拡張

クライアントは、kind-3イベントを利用して、閲覧中のプロフィールがフォローしている人のリストを表示したり、フォローしている人や閲覧中の人のフォローリストに基づいてフォロー候補のリストを作成したり、他のコンテキストでデータを表示したりすることができます。

### リレーの共有

クライアントは、フォローしている各ユーザーに適したリレーを含むフォローリストを公開することができます。これにより、他のクライアントは必要に応じてこれらを使用して内部のリレーリストを更新し、検閲耐性を高めることができます。

### ペットネームスキーム

これらのフォローリストのデータを使用して、クライアントは他の人のフォローリストから派生したローカルの["ペットネーム"](http://www.skyhunter.com/marcs/petnames/IntroPetNames.html)テーブルを構築できます。これにより、グローバルな人間が読める名前の必要性が軽減されます。例えば：

ユーザーが以下の内部フォローリストを持っているとします：

```json
[
  ["p", "21df6d143fb96c2ec9d63726bf9edc71", "", "erin"]
]
```

そして、`21df6d143fb96c2ec9d63726bf9edc71` から以下のフォローリストを受け取ります：

```json
[
  ["p", "a8bb3d884d5d90b413d9891fe4c4e46d", "", "david"]
]
```

さらに、`a8bb3d884d5d90b413d9891fe4c4e46d` から以下のフォローリストを受け取ります：

```json
[
  ["p", "f57f54057d2a7af0efecc8b0b66f5708", "", "frank"]
]
```

ユーザーが `21df6d143fb96c2ec9d63726bf9edc71` を見たとき、クライアントは代わりに _erin_ を表示できます。
ユーザーが `a8bb3d884d5d90b413d9891fe4c4e46d` を見たとき、クライアントは代わりに _david.erin_ を表示できます。
ユーザーが `f57f54057d2a7af0efecc8b0b66f5708` を見たとき、クライアントは代わりに _frank.david.erin_ を表示できます。