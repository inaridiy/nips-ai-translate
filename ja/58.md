---
original: 952a3cb2e900a933825014bc866b6037822b2f9cbcd947248a7d99ece9494ca7
---

NIP-58
======

バッジ
------

`draft` `optional`

ユーザープロフィールでバッジを定義、授与、表示するために、3つの特別なイベントが使用されます：

1. 「バッジ定義」イベントは、kind `30009`のパラメータ化された置換可能イベントとして定義され、バッジを一意に識別する値（例：`bravery`）を持つ`d`タグを含み、バッジ発行者によって公開されます。バッジ定義は更新可能です。

2. 「バッジ授与」イベントは、kind `8`のイベントで、「バッジ定義」イベントを参照する単一の`a`タグと、バッジ発行者が授与したい各公開鍵に対応する1つ以上の`p`タグを含みます。授与されたバッジは不変で譲渡不可能です。

3. 「プロフィールバッジ」イベントは、値が`profile_badges`の`d`タグを持つkind `30008`のパラメータ化された置換可能イベントとして定義されます。プロフィールバッジには、表示する各バッジに対して`バッジ定義`と`バッジ授与`を参照する`a`タグと`e`タグのペアの順序付きリストが含まれます。

### バッジ定義イベント

以下のタグが必須です：

- バッジの一意な名前を持つ`d`タグ。

以下のタグは任意です：

- バッジの短い名前を持つ`name`タグ。
- バッジを表す高解像度画像のURLを値とする`image`タグ。2番目の値は任意でピクセル単位の画像の寸法を`幅`x`高さ`で指定します。推奨されるバッジの寸法は1024x1024ピクセルです。
- 画像のテキスト表現、バッジの意味、または発行理由を含む値を持つ`description`タグ。
- `image`タグで参照される画像のサムネイルバージョンを指すURLを最初の値とする1つ以上の`thumb`タグ。2番目の値は任意でピクセル単位のサムネイルの寸法を`幅`x`高さ`で指定します。

### バッジ授与イベント

以下のタグが必須です：

- kind `30009`のバッジ定義イベントを参照する`a`タグ。
- 授与される各公開鍵を参照する1つ以上の`p`タグ。

### プロフィールバッジイベント

公開鍵に授与できるバッジの数に制限はありません。プロフィールバッジイベントにより、個々のユーザーは授与されたバッジを受け入れるか拒否するか、またプロフィールでのバッジの表示順序を選択できます。

以下のタグが必須です：

- 一意の識別子`profile_badges`を持つ`d`タグ

以下のタグは任意です：

- kind `30009`のバッジ定義とkind `8`のバッジ授与をそれぞれ参照する、0個以上の順序付けられた連続した`a`タグと`e`タグのペア。クライアントは対応する`e`タグのない`a`タグ、およびその逆を無視すべきです。`e`タグで参照されるバッジ授与は、同じ`a`タグを含むべきです。

### 動機

ユーザーは（これらに限定されませんが）認識、感謝、参加、または特定の目標、タスク、または目的の達成に対して、バッジを授与される場合があります。

ユーザーは、信頼できると判断したバッジ発行者からのバッジで、名声、評判、認識、サポートなどのために、プロフィールを飾ることを選択できます。

### 推奨事項

クライアントは、ユーザーにとって価値/特別な要素を維持する目的で、バッジ発行者（公開鍵）をホワイトリストに登録する場合があります。

バッジ画像の推奨アスペクト比は1:1で、高解像度サイズは1024x1024ピクセルです。

バッジサムネイル画像の推奨寸法は：512x512（xl）、256x256（l）、64x64（m）、32x32（s）、16x16（xs）です。

クライアントは、ユーザーがプロフィールバッジイベントで指定したバッジよりも少ないバッジをレンダリングするか、クライアントのテーマに合わせてバッジ画像とサムネイルを置き換える場合があります。

クライアントは、ユーザーが選択したバッジの数と利用可能なスペースに応じて、最も適切なバッジサムネイルをレンダリングするよう試みるべきです。クライアントは、ユーザーのアクション（クリック、タップ、ホバー）に応じて高解像度版をレンダリングするよう試みるべきです。

### バッジ定義イベントの例

```json
{
  "pubkey": "alice",
  "kind": 30009,
  "tags": [
    ["d", "bravery"],
    ["name", "Medal of Bravery"],
    ["description", "Awarded to users demonstrating bravery"],
    ["image", "https://nostr.academy/awards/bravery.png", "1024x1024"],
    ["thumb", "https://nostr.academy/awards/bravery_256x256.png", "256x256"]
  ],
  ...
}
```

### バッジ授与イベントの例

```json
{
  "id": "<badge award event id>",
  "kind": 8,
  "pubkey": "alice",
  "tags": [
    ["a", "30009:alice:bravery"],
    ["p", "bob", "wss://relay"],
    ["p", "charlie", "wss://relay"]
  ],
  ...
}
```

### プロフィールバッジイベントの例

勇敢なる名誉のボブ：
```json
{
  "kind": 30008,
  "pubkey": "bob",
  "tags": [
    ["d", "profile_badges"],
    ["a", "30009:alice:bravery"],
    ["e", "<bravery badge award event id>", "wss://nostr.academy"],
    ["a", "30009:alice:honor"],
    ["e", "<honor badge award event id>", "wss://nostr.academy"]
  ],
  ...
}
```