---
original: dc36f24ad46f20a143e0ba63d321f4b3f956c6d4307a644398340bc1a24cdf19
---

NIP-40
======

有効期限タイムスタンプ
--------------------

`draft` `optional`

`expiration`タグを使用することで、ユーザーはメッセージが期限切れとみなされ、リレーによって削除されるべきUNIXタイムスタンプを指定できます（リレーとクライアントによって）。

#### 仕様

```
tag: expiration
values:
 - [UNIX timestamp in seconds]: required
```

#### 例

```json
{
  "pubkey": "<pub-key>",
  "created_at": 1000000000,
  "kind": 1,
  "tags": [
    ["expiration", "1600000000"]
  ],
  "content": "This message will expire at the specified timestamp and be deleted by relays.\n",
  "id": "<event-id>"
}
```

注：タイムスタンプはcreated_atタイムスタンプと同じ形式で、リレーがメッセージを削除すべき時間として解釈されるべきです。

クライアントの動作
---------------

クライアントはリレーがこのNIPをサポートしているかどうかを知るために`supported_nips`フィールドを使用すべきです。クライアントはこのNIPをサポートしていないリレーに有効期限イベントを送信すべきではありません。

クライアントは期限切れのイベントを無視すべきです。

リレーの動作
--------------

リレーは期限切れのメッセージを有効期限到来時に即座に削除する必要はなく、無期限に保持してもかまいません。
リレーは期限切れのイベントを保存していても、クライアントに送信すべきではありません。
リレーは期限切れの状態で公開されたイベントを受け取った場合、それらを破棄すべきです。
有効期限タイムスタンプは一時的なイベントの保存には影響しません。

推奨される使用例
-------------------

* 一時的なお知らせ - このタグを使用して一時的なお知らせを行うことができます。例えば、イベント主催者がこのタグを使用して、今後のイベントに関するお知らせを投稿することができます。
* 期間限定オファー - このタグを使用して、企業が一定期間後に期限切れとなる期間限定オファーを行うことができます。例えば、企業がこのタグを使用して、限られた時間だけ利用可能な特別オファーを行うことができます。

#### 警告
イベントはリレー上で常に公開されているため、第三者によってダウンロードされる可能性があります。
そのため、期限切れメッセージを会話やその他の用途のセキュリティ機能として考えないでください。