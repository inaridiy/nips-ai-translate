---
original: 3e05518ef993115d3c61713e34eaf9b0573c97feb346cd636e1f42a4beebf740
---

NIP-70
======

保護されたイベント
----------------

`draft` `optional`

`"-"` タグが存在する場合、そのイベントは「保護されている」ことを意味します。

保護されたイベントは、作成者のみがリレーに公開できるイベントです。これは、リレーが自身のイベントを公開する前に作成者が[認証](42.md)されていることを確認するか、単に `["-"]` を含むイベントを拒否することで実現されます。

リレーのデフォルトの動作は、`["-"]` を含むイベントを拒否しなければなりません（MUST）。

そのようなイベントを受け入れたいリレーは、まずクライアントに [NIP-42](42.md) の `AUTH` フローを実行させ、認証されたクライアントが公開されるイベントと同じ公開鍵を持っているかを確認し、その場合にのみイベントを受け入れなければなりません（MUST）。

## タグ

タグは単一の項目を持つシンプルなタグです：`["-"]`。これはどのイベントにも追加できます。

## フローの例

- ユーザー `79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798` がリレー `wss://example.com` に接続します：

```jsonc
/* client: */
["EVENT",{"id":"cb8feca582979d91fe90455867b34dbf4d65e4b86e86b3c68c368ca9f9eef6f2","pubkey":"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","created_at":1707409439,"kind":1,"tags":[["-"]],"content":"hello members of the secret group","sig":"fa163f5cfb75d77d9b6269011872ee22b34fb48d23251e9879bb1e4ccbdd8aaaf4b6dc5f5084a65ef42c52fbcde8f3178bac3ba207de827ec513a6aa39fa684c"}]
/* relay: */
["AUTH", "<challenge>"]
["OK", "cb8feca582979d91fe90455867b34dbf4d65e4b86e86b3c68c368ca9f9eef6f2", false, "auth-required: this event may only be published by its author"]
/* client: */
["AUTH", {}]
["EVENT",{"id":"cb8feca582979d91fe90455867b34dbf4d65e4b86e86b3c68c368ca9f9eef6f2","pubkey":"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","created_at":1707409439,"kind":1,"tags":[["-"]],"content":"hello members of the secret group","sig":"fa163f5cfb75d77d9b6269011872ee22b34fb48d23251e9879bb1e4ccbdd8aaaf4b6dc5f5084a65ef42c52fbcde8f3178bac3ba207de827ec513a6aa39fa684c"}]
["OK", "cb8feca582979d91fe90455867b34dbf4d65e4b86e86b3c68c368ca9f9eef6f2", true, ""]
```

## 理由

イベントの無制限な拡散を防ぎ、特定の層や半閉鎖的なコミュニティリレーにのみ制限することが有益な状況が複数あります。情報が公開されている場合でも、異なるリレー間で分離しておくことが意味を持つ場合があります。

また、発行者がリレーと何らかの関係を持ち、リレーが発行されたイベントを誰にも公開しないと信頼している場合、これを使用してクローズドアクセスフィードを作成することも可能です。

インターネット上で情報の拡散を完全に制限することは不可能ですが（例えば、クローズドグループのメンバーの1人が制限されるはずのイベントを取り出して他のリレーに再公開する可能性があります）、ほとんどのリレーは、作成者の元の決定を尊重して、これらの「海賊行為」を容易にしないことを喜んで受け入れ、手段が与えられれば、これらの再公開行為を喜んで拒否するでしょう。

このNIPは、これらの作成者とリレーに、特定のイベントが第三者によって再公開されることを意図していないことを明確に示す手段を提供します。