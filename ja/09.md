---
original: b31c4c373653b3bd13e7d99c116b3d9514edb5be1c8c073247cb0482c5950fa1
---

NIP-09
======

イベント削除
------------

`draft` `optional`

種類（kind）`5`の特別なイベントは「削除」を意味し、著者が削除を要求する1つ以上のイベントを参照する`e`または`a`タグのリストを持つと定義されます。削除要求には、削除されるイベントの種類（kind）ごとに`k`タグを含めるべきです（SHOULD）。

イベントの`content`フィールドには、削除の理由を説明するテキストノートを含めることができます（MAY）。

例：

```
{
  "kind": 5,
  "pubkey": <イベント作成者の32バイトの16進エンコードされた公開鍵>,
  "tags": [
    ["e", "dcd59..464a2"],
    ["e", "968c5..ad7a4"],
    ["a", "<kind>:<pubkey>:<d-identifier>"],
    ["k", "1"],
    ["k", "30023"]
  ],
  "content": "これらの投稿は誤って公開されました",
  ...その他のフィールド
}
```

リレーは、削除要求と同じ`pubkey`を持つ参照されたイベントを削除するか、公開を停止すべきです（SHOULD）。クライアントは、参照されたイベントを非表示にするか、削除状態を示すべきです（SHOULD）。

リレーは、クライアントが削除対象のイベントをすでに持っている可能性があるため、削除イベントを無期限に公開/共有し続けるべきです（SHOULD）。さらに、クライアントは削除イベントを他のリレーにも配信すべきです（SHOULD）。

`a`タグが使用される場合、リレーは削除イベントの`created_at`タイムスタンプまでの置換可能なイベントのすべてのバージョンを削除すべきです（SHOULD）。

## クライアントの使用法

クライアントは、有効な削除イベントによって参照されるイベントを完全に非表示にすることができます（MAY）。これには、テキストノート、ダイレクトメッセージ、またはまだ定義されていない他のイベントの種類が含まれます。あるいは、著者がイベントを「否認」したことを示すアイコンやその他の表示とともにイベントを表示することもできます。`content`フィールドを使用して削除されたイベントの元のコンテンツを置き換えることもできますが、ユーザーインターフェースではこれが元のコンテンツではなく削除理由であることを明確に示す必要があります。

クライアントは、イベントを非表示にしたり削除したりする前に、削除要求の`e`タグで参照される各イベントの`pubkey`が削除要求の`pubkey`と同一であることを検証しなければなりません（MUST）。リレーは一般的にこの検証を実行できず、権威的なものとして扱うべきではありません。

クライアントは削除イベント自体を任意の方法で表示できます。例えば、まったく表示しない、または目立つ通知とともに表示するなどです。

## リレーの使用法

リレーは、削除イベントが削除自体と同じ`pubkey`を持つイベントのみを参照していることを検証することができます（MAY）が、これは必須ではありません。リレーがすべての参照されたイベントの知識を持っていない可能性があるためです。

## 削除の削除

削除に対して削除イベントを公開しても効果はありません。クライアントとリレーは「削除取り消し」機能をサポートする義務はありません。