---
original: 7347b3279453c86c1653a49e45dfedeb2140e151010c711a666607fec92542ad
---

NIP-94
======

ファイルメタデータ
-------------

`draft` `optional`

このNIPの目的は、共有ファイルの整理と分類を可能にすることです。これにより、リレーは興味のある方法でフィルタリングと整理を行うことができます。その結果、複数のタイプのファイル共有クライアントを作成することができます。NIP-94のサポートは、`kind:1`のノートを扱う「ソーシャル」クライアントや、`kind:30023`の記事を扱う長文クライアントで実装されることは想定されていません。

## イベントフォーマット

このNIPは、`1063`イベントタイプの使用を指定しており、`content`にファイル内容の説明と、以下に説明するタグのリストを含みます：

* `url` ファイルをダウンロードするためのURL
* `m` ファイルのデータタイプを示す文字列。[MIMEタイプ](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types)形式を使用し、小文字である必要があります。
* `x` ファイルのSHA-256ハッシュを16進数エンコードした文字列
* `ox` アップロードサーバーによる変換前の元のファイルのSHA-256ハッシュを16進数エンコードした文字列
* `size` （オプション）ファイルサイズ（バイト単位）
* `dim` （オプション）ファイルサイズ（ピクセル単位）で、`<幅>x<高さ>`の形式
* `magnet` （オプション）マグネットファイルへのURI
* `i` （オプション）トレントのインフォハッシュ
* `blurhash`（オプション）クライアントがファイルを読み込んでいる間に表示する[blurhash](https://github.com/woltapp/blurhash)
* `thumb` （オプション）同じアスペクト比のサムネイルのURL
* `image` （オプション）同じ寸法のプレビュー画像のURL
* `summary` （オプション）テキスト抜粋
* `alt` （オプション）アクセシビリティのための説明
* `fallback` （オプション）`url`が失敗した場合の0個以上のフォールバックファイルソース

```json
{
  "kind": 1063,
  "tags": [
    ["url",<ファイルのURIを含む文字列>],
    ["m", <MIMEタイプ>],
    ["x",<SHA-256ハッシュ>],
    ["ox",<SHA-256ハッシュ>],
    ["size", <ファイルサイズ（バイト単位）>],
    ["dim", <ファイルサイズ（ピクセル単位）>],
    ["magnet",<マグネットURI> ],
    ["i",<トレントインフォハッシュ>],
    ["blurhash", <値>],
    ["thumb", <サムネイルURIを含む文字列>],
    ["image", <プレビューURIを含む文字列>],
    ["summary", <抜粋>],
    ["alt", <説明>]
  ],
  "content": "<キャプション>",
  ...
}
```

## 推奨される使用例

* 共有ファイルのインデックス作成用リレー。例えば、トレントを宣伝するため。
* ユーザーがポートフォリオを共有し、他者にインスピレーションを与えることができるPinterestのようなクライアント。
* 設定やソフトウェアアップデートを配布するための簡単な方法。