---
original: 892a57d8a666a32d2bae65112994a88092a946a76c3d29162f307b8f7fedbd1d
---

> __警告__  `unrecommended`: [NIP-27](27.md)に代わって非推奨となりました

NIP-08
======

メンションの取り扱い
--------------------

`final` `unrecommended` `optional`

この文書は、`text_note`の内容内にある他のイベントや公開鍵（pubkey）のインラインメンションをクライアントが扱う方法を標準化します。

タグ付きメンションを許可したいクライアントは、ユーザーが特殊キー（例えば、"@"）の入力を開始したり、メンションを含むためのボタンを押したりした際に、オートコンプリートコンポーネントまたはそれに類するものを表示しなければなりません（MUST）。あるいは、これらのクライアントは、メンションと通常のテキストを明確に区別する他の方法を考案することもできます。

メンションが識別されたら、例えば公開鍵 `27866e9d854c78ae625b867eefdfa9580434bc3e675be08d2acb526610d96fbe` の場合、クライアントはその公開鍵を `.tags` に `p` タグとして追加し、その後、（`.content` 内の）テキスト参照を `#[index]` という表記に置き換えなければなりません（MUST）。ここで "index" は、タグ配列内の関連タグの0ベースのインデックスと等しくなります。

同じプロセスがイベントIDのメンションにも適用されます。

`.content` 内にこのような `#[index]` メンションを含む `text_note` イベントを受信したクライアントは、`.tags` 配列から実際の内容を使用して検索と置換を行うことができます（CAN）。その際、メンションされた公開鍵やイベントIDを使用し、必要に応じてコンテキストの拡張（例えば、公開鍵へのリンクやメンションされたイベントの内容のプレビューの表示）を行うことができます。

`#[index]` の `index` がタグ配列の範囲外である場合、または `e` や `p` タグ、あるいはこの表記をサポートすると宣言されていないタグを指している場合、クライアントはそのような置換や拡張を行ってはならず（MUST NOT）、代わりに通常のテキストとして表示しなければなりません。